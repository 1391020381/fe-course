{"remainingRequest":"/Users/linxi/work/workspace/javascript/fe-course/module1/code/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/linxi/work/workspace/javascript/fe-course/module1/code/src/views/Clipboard.vue?vue&type=style&index=0&id=5a35e9cc&scoped=true&lang=less&","dependencies":[{"path":"/Users/linxi/work/workspace/javascript/fe-course/module1/code/src/views/Clipboard.vue","mtime":1625774162043},{"path":"/Users/linxi/work/workspace/javascript/fe-course/module1/code/node_modules/css-loader/dist/cjs.js","mtime":1594881161195},{"path":"/Users/linxi/work/workspace/javascript/fe-course/module1/code/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1621413896821},{"path":"/Users/linxi/work/workspace/javascript/fe-course/module1/code/node_modules/postcss-loader/src/index.js","mtime":1590562723346},{"path":"/Users/linxi/work/workspace/javascript/fe-course/module1/code/node_modules/less-loader/dist/cjs.js","mtime":1590562751625},{"path":"/Users/linxi/work/workspace/javascript/fe-course/module1/code/node_modules/cache-loader/dist/cjs.js","mtime":1590562704711},{"path":"/Users/linxi/work/workspace/javascript/fe-course/module1/code/node_modules/vue-loader/lib/index.js","mtime":1621413896821}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucGFnZSB7CiAgdGV4dC1hbGlnbjogbGVmdDsKICBzZWN0aW9uIHsKICAgIG1hcmdpbjogMjBweDsKICB9CiAgaW1nIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7CiAgfQp9Cg=="},{"version":3,"sources":["Clipboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Clipboard.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"page\">\n    Clipboard\n    <hr />\n    <section>复制内容:{{ pasteContent }}<br /></section>\n    <section>\n      粘贴内容:\n      <textarea> </textarea>\n    </section>\n\n    <section>\n      粘贴图片:\n      <img ref=\"img\" :src=\"pasteImage\" />\n    </section>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nexport default {\n  name: \"Keyborad\",\n  data() {\n    return {\n      copyContent: \"\",\n      pasteContent: \"\",\n      pasteImage: \"\",\n    };\n  },\n  mounted() {\n    this.toFixed(1.005, 2);\n\n    document.body.oncopy = (evt) => {\n      const selection = document.getSelection();\n      evt.clipboardData.setData(\n        \"text/plain\",\n        \"该文档不允许复制剪贴操作，谢谢配合!\" + selection.toString()\n      );\n      evt.preventDefault();\n    };\n\n    document.body.onpaste = (evt) => {\n      this.pasteContent = evt.clipboardData.getData(\"text/plain\");\n\n      if (evt.clipboardData.items) {\n        evt.clipboardData.items.forEach((item) => {\n          if (item.type.includes(\"image\")) {\n            let file = item.getAsFile();\n            console.log(file);\n\n            var reader = new FileReader();\n            reader.onload = (e) => {\n              // event.target.result就是图片的Base64地址啦\n              this.$refs.img.style.width = file.width + \"px\";\n              this.$refs.img.style.height = file.height + \"px\";\n              this.pasteImage = e.target.result;\n              console.log(this.pasteImage);\n            };\n            reader.onerror = (err) => {\n              console.log(err);\n            };\n            reader.readAsDataURL(file);\n          }\n        });\n      }\n    };\n  },\n\n  methods: {\n    toFixed(num, s) {\n      var times = Math.pow(10, s);\n      var des = num * times + 0.5;\n      des = parseInt(des, 10) / times;\n      return des + \"\";\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.page {\n  text-align: left;\n  section {\n    margin: 20px;\n  }\n  img {\n    border: 1px solid #ccc;\n  }\n}\n</style>\n"]}]}